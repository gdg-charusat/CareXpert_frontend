import{j as e}from"./ui-vendor-izRNgCO_.js";import{d as s,r as t}from"./react-vendor-r9Et1EnL.js";import{C as a,d as l,a as r,b as i,c as n}from"./card-Sps0XDlE.js";import{e as c,h as d,i as x,F as m,C as o,A as h,f as j,g as p,b as u,B as g,a as N,u as f}from"./index-Dpso9GU3.js";import{T as y,a as v,b as w,c as b}from"./tabs-BHKe9vPI.js";import{U as D}from"./users-BiZSfXh4.js";import{S as k}from"./settings-CSYyYW8n.js";import"./chart-vendor-D0NPwkge.js";function E(){const E=s(),C=c(e=>e.user),[T,L]=t.useState(""),[P,I]=t.useState(""),[O,S]=t.useState([]),[M,A]=t.useState([]);return t.useEffect(()=>{C&&"DOCTOR"===C.role||E("/auth/login")},[C,!1,E]),t.useEffect(()=>{!async function(){var e;try{const e=await N.get("http://localhost:5000/api/doctor/all-appointments",{withCredentials:!0});if(e.data.success){const s=e.data.data,t=new Date,a=new Date;a.setHours(0,0,0,0);const l=new Date(a);l.setDate(l.getDate()+1);const r=s.filter(e=>{const s=new Date(e.date);return s>=a&&s<l}),i=s.filter(e=>new Date(`${e.date}T${e.time}`)>=t);S(r),A(i)}}catch(s){N.isAxiosError(s)&&s.response?f.error((null==(e=s.response.data)?void 0:e.message)||"Something went wrong"):f.error("Unknown error occured")}}()},[]),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:["Welcome back, ",(null==C?void 0:C.name)||"Doctor","!"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your practice and help your patients"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Today's Appointments"}),e.jsx("p",{className:"text-2xl font-bold dark:text-white",children:null==O?void 0:O.length})]}),e.jsx(d,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Patients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"247"})]}),e.jsx(D,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Unread Messages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"3"})]}),e.jsx(x,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"89"})]}),e.jsx(m,{className:"h-8 w-8 text-orange-600"})]})})})]}),e.jsxs(y,{defaultValue:"appointments",className:"space-y-6",children:[e.jsxs(v,{className:"grid w-full grid-cols-3 lg:w-auto lg:grid-cols-3",children:[e.jsxs(w,{value:"appointments",className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4"}),"Appointments"]}),e.jsxs(w,{value:"availability",className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4"}),"Availability"]}),e.jsxs(w,{value:"patients",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Patients"]})]}),e.jsx(b,{value:"appointments",className:"space-y-6",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-5 w-5 text-blue-600"}),"Today's Appointments"]}),e.jsx(n,{children:(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(l,{className:"space-y-4",children:O.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(h,{children:[e.jsx(j,{src:s.patient.profilePicture||"/placeholder.svg"}),e.jsx(p,{children:s.patient.name.split(" ").map(e=>e[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.patient.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[new Date(s.date).toLocaleDateString("en-US")," at ",s.time]}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(u,{variant:"ONLINE"===s.appointmentType?"secondary":"default",children:"ONLINE"===s.appointmentType?"Video Call":"In-Person"}),e.jsx(u,{variant:"PENDING"===s.status?"outline":"CONFIRMED"===s.status?"default":"COMPLETED"===s.status?"secondary":"destructive",children:s.status})]}),s.notes&&e.jsx(u,{className:"bg-gray-200 text-black dark:bg-gray-600 dark:text-white/90",children:s.notes})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(u,{variant:"COMPLETED"===s.status?"default":"PENDING"===s.status?"secondary":"CANCELLED"===s.status?"destructive":"outline",children:s.status}),e.jsxs(g,{variant:"outline",size:"sm",children:[e.jsx(k,{className:"h-4 w-4 mr-2"})," Manage"]})]})]},s.id))})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-5 w-5 text-green-600"}),"Upcoming Appointments"]})}),e.jsx(l,{className:"space-y-4",children:null==M?void 0:M.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(h,{children:[e.jsx(j,{src:s.patient.profilePicture||"/placeholder.svg"}),e.jsx(p,{children:s.patient.name.split(" ").map(e=>e[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:s.patient.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[new Date(s.date).toLocaleDateString("en-US")," at ",s.time]}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(u,{variant:"ONLINE"===s.appointmentType?"secondary":"default",children:"ONLINE"===s.appointmentType?"Video Call":"In-Person"}),e.jsx(u,{variant:"PENDING"===s.status?"outline":"CONFIRMED"===s.status?"default":"COMPLETED"===s.status?"secondary":"destructive",children:s.status})]}),s.notes&&e.jsx(u,{className:"bg-gray-200 text-black dark:bg-gray-600 dark:text-white/90",children:s.notes})]})]}),e.jsx(u,{variant:"CONFIRMED"===s.status?"default":"secondary",children:s.status})]},s.id))})]})]})}),e.jsx(b,{value:"availability",children:e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsx("p",{children:"Availability tab content placeholder"})})})}),e.jsx(b,{value:"patients",children:e.jsx(a,{children:e.jsx(l,{className:"p-6",children:e.jsx("p",{children:"Patients tab content placeholder"})})})})]})]})}export{E as default};
