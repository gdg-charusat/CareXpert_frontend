import{j as e}from"./ui-vendor-izRNgCO_.js";import{d as s,r as a}from"./react-vendor-r9Et1EnL.js";import{c as t,e as i,m as r,b as n,P as c,B as l,A as d,g as o,U as x,M as m,h,C as p,F as y,a as j,u as g}from"./index-Dpso9GU3.js";import{C as u,a as N,b as v,c as b,d as f}from"./card-Sps0XDlE.js";import"./chart-vendor-D0NPwkge.js";
/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function k(){const t=s(),k=i(e=>e.user),[P,D]=a.useState([]),[S,C]=a.useState(!0),T="http://localhost:5000/api/patient";return a.useEffect(()=>{k&&"PATIENT"===k.role||t("/auth/login")},[k,t]),a.useEffect(()=>{!async function(){var e;try{C(!0);const e=await j.get(`${T}/view-prescriptions`,{withCredentials:!0});e.data.success&&D(e.data.data)}catch(s){j.isAxiosError(s)&&s.response?g.error((null==(e=s.response.data)?void 0:e.message)||"Something went wrong"):g.error("Unknown error occurred")}finally{C(!1)}}()},[T]),S?e.jsx("div",{className:"p-6 md:p-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"My Prescriptions"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"View and download your medical prescriptions"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(n,{variant:"secondary",className:"text-sm",children:[P.length," Prescriptions"]})})]})}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:P.length>0?e.jsx("div",{className:"space-y-6",children:P.map((s,a)=>e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*a},children:e.jsxs(u,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(c,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs(v,{className:"text-lg",children:["Prescription #",s.id.slice(-8)]}),e.jsxs(b,{children:["Prescribed by Dr. ",s.doctorName]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",className:"text-xs",children:s.speciality}),e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>window.open(`${T}/prescription-pdf/${s.id}`,"_blank"),children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Download PDF"]})]})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(d,{className:"w-10 h-10",children:e.jsx(o,{children:e.jsx(x,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Dr. ",s.doctorName]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:s.speciality}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(m,{className:"h-3 w-3"}),s.clinicLocation]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(h,{className:"h-4 w-4"}),e.jsxs("span",{children:["Prescribed on: ",new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsxs("span",{children:["Time: ",new Date(s.date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Prescription Instructions"]}),e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:s.prescriptionText})})]})]})]})},s.id))}):e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(c,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Prescriptions Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-md mx-auto",children:"You don't have any prescriptions yet. Your prescriptions will appear here after your appointments."}),e.jsx(l,{onClick:()=>t("/doctors"),className:"bg-blue-600 hover:bg-blue-700",children:"Book an Appointment"})]})})]})}export{k as default};
