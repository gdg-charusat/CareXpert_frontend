import{j as t}from"./ui-vendor-izRNgCO_.js";import{r as e}from"./react-vendor-r9Et1EnL.js";import{a as n}from"./index-Dpso9GU3.js";import{M as i,u as a}from"./socket-video-BniMLvTU.js";import"./chart-vendor-D0NPwkge.js";function o({participantId:e}){return t.jsxs("div",{children:["Participant: ",e]})}function s(){const[n,i]=e.useState(null),{join:s,participants:r}=a({onMeetingJoined:()=>{i("JOINED")}});return t.jsx("div",{className:"container",children:n&&"JOINED"==n?t.jsx("div",{children:[...r.keys()].map(e=>t.jsx(o,{participantId:e},e))}):n&&"JOINING"==n?t.jsx("p",{children:"Joining the meeting..."}):t.jsx("button",{onClick:()=>{i("JOINING"),s()},children:"Join the meeting"})})}const r=({meetingId:e,token:n,name:a})=>t.jsx(i,{config:{meetingId:e,micEnabled:!0,webcamEnabled:!0,name:a,debugMode:!1},token:n,children:t.jsx(s,{})}),c=()=>{const[i,a]=e.useState(""),[o,s]=e.useState("");return e.useEffect(()=>{(async()=>{try{const t=await n.post("http://localhost:5000/api/chat/get-token");a(t.data.roomId),s(t.data.token)}catch(t){}})()},[]),i&&o?t.jsx(r,{meetingId:i,token:o,name:"Dr. Vasu"}):t.jsx("div",{className:"text-center mt-10 text-xl",children:"ðŸ”„ Starting Video Call..."})};export{c as default};
